"use strict";// Generated by CoffeeScript 2.3.2
(function(){// This has been changed to a pure regex version,
// this function will detect multi-words (e.g. Air Force)
var a,b,c,d,e,f,g;f=function(a,b){var c,d,e,f,g,h,k,l,m,n,o,p,q,r,s,t;for(console.log(a),t=[],f=[],o=Object.keys(b),(k=0,m=o.length);k<m;k++)if(e=o[k],q=RegExp("(\\b"+e+"(?![a-zA-Z<\"=\\']))","gim"),"&"===e&&(q=RegExp("("+e+")","gim")),q.test(a)){//For every possible interpretation of an acronym. i.e. 
//Interpretation for "msn" is ["mission", "missions"]
for(c=!0,p=b[e],(l=0,n=p.length);l<n;l++)s=p[l],r=RegExp("(\\b"+s+"(?![a-zA-Z<\"=\\']))","gim"),r.test(a)&&(c=!1,g=btoa(e+s),g=g.slice(0,-2),h=btoa(s+e),h=h.slice(0,-2),t[g]=s,t[h]=e,a=a.replace(q,"<span id=\""+g+"\" class=\"acro_pair\">$&</span>"),a=a.replace(r,"<span id=\""+h+"\" class=\"acro_pair\">$&</span>"));c&&(d=btoa(e).slice(0,-2),a=a.replace(q,"<span id=\""+d+"\" class=\"approved_acro\">$&</span>"),f[d]=e)}return console.log(a),{html:a,tooltipped_words:t,approved_acros:f}},a=function(a,b){tippy(a,{content:b,flip:!1})},b=function(b){var c,d,e,f;for(f=Object.keys(b),d=0,e=f.length;d<e;d++)c=f[d],a("#"+c,"Inconsistent with: "+b[c])},e=function(a,b){var c,d,e,f,g,h,j;for(d=Object.keys(b),j=a.split(" "),(e=0,f=d.length);e<f;e++)c=d[e],g=c.toLowerCase(),h=RegExp("(\\b"+c+")(?=([\\n \\!\\-/\\;]|$))","gim"),a=a.replace(h,"<span id=\""+c+"\" class=\"approved_acro\">$&</span>");return a},d=function(a){var b;// This regex expression matches with an "!" that is NOT
//followed by 2 spaces and a non-whitespace character.
//All "!" characters must be followed by 2 spaces and a 
//non-whitespace character
//It will not match a "!" followed by a newline character.
return b=/!(?!(  \S)|$)/gm,a=a.replace(b,"<span class=\"invalid_exclamation\">$&</span>"),a},c=function(a){var b,c;return b=/--(?=\s)/gm,c=/\s--/gm,a=a.replace(b,"<span class=\"invalid_double_dash\">$&</span>"),a=a.replace(c,"<span class=\"invalid_double_dash\">$&</span>"),a},g=function(){var a,b;return b=$("#output").text(),a=f(b,word_acro_data),b=a.html,b=d(b),b=c(b),a.html=b,a;// returning: {'html': text_content, 'tooltipped_words':[], 'approved_acros':[]}
},$(function(){return $("#input-text").on("input propertychange paste",function(){var c,d,e,f,h,j;//Adds the text you type in, to the output. 
//For every approved acronym, reveal the spelled word in the UI
for($("#output").text($("#input-text").val()),j=g(),$("#output").html(j.html),b(j.tooltipped_words),d=j.approved_acros,h=Object.keys(d),(e=0,f=h.length);e<f;e++)c=h[e],a("#"+c,"Abbreviates to: "+word_acro_data[d[c]][0]);a(".invalid_double_dash","Error: Whitespace next to '--'"),a(".invalid_exclamation","2 spaces must appear after a '!'")})})}).call(void 0);
