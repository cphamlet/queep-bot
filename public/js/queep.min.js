"use strict";// Generated by CoffeeScript 2.3.2
(function(){// This has been changed to a pure regex version,
// this function will detect multi-words (e.g. Air Force)
var a,b,c,d,e,f,g,h,i;//Semi-colon must have exactly 1 space after it
g=function(a,b){var c,d,e,f,g,h,k,l,m,n,o,p,q,r,s,t;for(t=[],f=[],o=Object.keys(b),(k=0,m=o.length);k<m;k++)if(e=o[k],q=RegExp("(\\b"+e+"(?![a-zA-Z<;\"=\\']))","gim"),"&amp;"===e&&(q=RegExp("("+e+")","gim")),q.test(a)){//For every possible interpretation of an acronym. i.e. 
//Interpretation for "msn" is ["mission", "missions"]
for(c=!0,p=b[e],(l=0,n=p.length);l<n;l++)s=p[l],r=RegExp("(\\b"+s+"(?![a-zA-Z<;\"=\\']))","gim"),r.test(a)&&(c=!1,g=btoa(e+s),g=g.slice(0,-2),h=btoa(s+e),h=h.slice(0,-2),t[g]=s,t[h]=e,a=a.replace(q,"<span id=\""+g+"\" class=\"acro_pair\">$&</span>"),a=a.replace(r,"<span id=\""+h+"\" class=\"acro_pair\">$&</span>"));c&&(d=btoa(e).slice(0,-2),a=a.replace(q,"<span id=\""+d+"\" class=\"approved_acro\">$&</span>"),f[d]=e)}return{html:a,tooltipped_words:t,approved_acros:f}},a=function(a,b){tippy(a,{content:b,flip:!1})},b=function(b){var c,d,e,f;for(f=Object.keys(b),d=0,e=f.length;d<e;d++)c=f[d],a("#"+c,"Inconsistent with: "+b[c])},f=function(a,b){var c,d,e,f,g,h,j;for(d=Object.keys(b),j=a.split(" "),(e=0,f=d.length);e<f;e++)c=d[e],g=c.toLowerCase(),h=RegExp("(\\b"+c+")(?=([\\n \\!\\-/\\;]|$))","gim"),a=a.replace(h,"<span id=\""+c+"\" class=\"approved_acro\">$&</span>");return a},e=function(a){var b;// This regex expression matches with an "!" that is NOT
//followed by 2 spaces and a non-whitespace character.
//All "!" characters must be followed by 2 spaces and a 
//non-whitespace character
//It will not match a "!" followed by a newline character.
return b=/!(?!(  \S)| {0,}$)/gm,a=a.replace(b,"<span class=\"invalid_exclamation\">$&</span>"),a},d=function(a){var b,c;return b=/--(?=\s)/gm,c=/\s--/gm,a=a.replace(b,"<span class=\"invalid_double_dash\">$&</span>"),a=a.replace(c,"<span class=\"invalid_double_dash\">$&</span>"),a},i=function(a){var b;return b=/;(?!( \S)| {0,}$|<)/gm,a=a.replace(b,"<span class=\"invalid_semi_colon\">$&</span>"),a},h=function(){var a,b,c;return c=he.escape($("#output").text()),b=g(c,word_acro_data),c=b.html,c=e(c),c=d(c),a=/&[a-z]{2,4};(?!<)/gim,c=c.replace(a,"<span class=\"html_entity\">$&</span>"),c=i(c),b.html=c,b;// returning: {'html': text_content, 'tooltipped_words':[], 'approved_acros':[]}
},$(function(){return $("#input-text").on("input propertychange paste",function(){var c,d,e,f,g,j;//Adds the text you type in, to the output. 
//For every approved acronym, reveal the spelled word in the UI
for($("#output").text($("#input-text").val()),j=h(),$("#output").html(j.html),b(j.tooltipped_words),d=j.approved_acros,g=Object.keys(d),(e=0,f=g.length);e<f;e++)c=g[e],a("#"+c,"Abbreviates to: "+word_acro_data[d[c]][0]);a(".invalid_double_dash","Error: Whitespace next to '--'"),a(".invalid_exclamation","A '!' must have exactly 2 spaces after it"),a(".invalid_semi_colon","A ';' must have exactly 1 space after it")})}),c=function(){var a,b;return b=["<",">","&","'"],a=RegExp("(\\b"+acronym+"(?![a-zA-Z<;\"=\\']))","gim")}}).call(void 0);
